<div class="site-dashboard">
    <app-admin-navigation></app-admin-navigation>
    <div class="site-form">
        <form #form="ngForm" (ngSubmit)="onSubmit()">
            <input asp-for="Id" hidden/>
            <div class="site-top">
                <p class="caption digital">Update Category</p>
            </div>
            <div class="box-form">
                <div asp-validation-summary="ModelOnly"></div>
                <div class="form-group">
                    <div class="box">
                        <label class="code">Title<img src="https://cdn-icons-png.flaticon.com/128/8704/8704368.png" alt="required"></label>
                        <input type="text" value="{{takenCourse.title}}" placeholder="Title" name="title" [(ngModel)]="course.title"
                            [class.input-error]="hasErrorTitle && submited"
                            [class.input-valid]="!hasErrorTitle && submited"/>
                        <span class="text-error code" *ngIf="hasErrorTitleRequired">Title is required.</span>
                        <span class="text-error code" *ngIf="hasErrorTitleLength">Title must be longer than 2 characters.</span>
                    </div>
                    <div class="box">
                        <label class="code">Description<img src="https://cdn-icons-png.flaticon.com/128/8704/8704368.png" alt="required"></label>
                        <textarea type="text" rows="10" cols="55" value="{{takenCourse.description}}" placeholder="Description" name="description" [(ngModel)]="course.description"
                            [class.input-error]="hasErrorDescription && submited"
                            [class.input-valid]="!hasErrorDescription && submited"></textarea>
                        <span class="text-error code" *ngIf="hasErrorDescriptionRequired">Description is required.</span>
                        <span class="text-error code" *ngIf="hasErrorDescriptionLength">Description must be longer than 2 characters.</span>
                    </div>
                    <div class="box">
                        <label class="code">Points<img src="https://cdn-icons-png.flaticon.com/128/8704/8704368.png" alt="required"></label>
                        <input type="text" value="{{takenCourse.points}}" placeholder="Points" name="points" [(ngModel)]="course.points" 
                            [class.input-error]="hasErrorPoints && submited"
                            [class.input-valid]="!hasErrorPoints && submited"/>
                        <span class="text-error code" *ngIf="hasErrorPointsValue">Points must be bigger than > 0.</span>
                    </div>
                    <div class="box">
                        <label class="code">Rating</label>
                        <input type="text" value="{{takenCourse.rating}}" placeholder="Rating" name="rating" [(ngModel)]="course.rating" disabled/>
                    </div>
                    <div class="box">
                        <label class="code">Rating Quantity</label>
                        <input type="text" value="{{takenCourse.ratingQty}}" placeholder="Rating Quantity" name="ratingQty" [(ngModel)]="course.ratingQty" disabled/>
                    </div>
                    <div class="box">
                        <label class="code">Video Url</label>
                        <input type="text" value="{{takenCourse.videoUrl}}" placeholder="Video Url" name="videoUrl" [(ngModel)]="course.videoUrl" 
                            [class.input-error]="hasErrorVidoeUrl && submited"
                            [class.input-valid]="!hasErrorVidoeUrl && submited"/>
                        <span class="text-error code" *ngIf="hasErrorVidoeUrlRegex">Video Url must be valid.</span>
                    </div>
                    <div class="box">
                        <label class="code">Created Date</label>
                        <input type="text" value="{{takenCourse.createdDate}}" disabled />
                    </div>
                    <div class="box">
                        <label class="code">Category<img src="https://cdn-icons-png.flaticon.com/128/8704/8704368.png" alt="required"></label>
                        <textarea rows="2" cols="45" disabled>{{categoryText}}</textarea>
                    </div>
                    <div class="box">
                        <label class="code">Sections</label>
                        <textarea rows="10" cols="45" disabled>{{sectionsText}}</textarea>
                    </div>
                    <div class="box">
                        <label class="code">Students</label>
                        <textarea rows="10" cols="45" disabled>{{studentsText}}</textarea>
                    </div>
                    <div class="box" *ngIf="hasAdmin">
                        <label class="code">Admin</label>
                        <textarea rows="2" cols="45" disabled>{{adminText}}</textarea>
                    </div>
                    <div class="box" *ngIf="hasTeacher">
                        <label class="code">Teacher</label>
                        <textarea rows="2" cols="45" disabled>{{teacherText}}</textarea>
                    </div>
                    <div class="box" *ngIf="!hasAdmin && !hasTeacher">
                        <label class="code">Created by</label>
                        <textarea rows="2" cols="45" disabled>The creator was deactivated or no information.</textarea>
                    </div>
                    <div class="box-buttons">
                        <button class="update font">Update</button>
                        <a class="font" routerLink="/Admin/{{routeid}}/Courses">Back</a>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>