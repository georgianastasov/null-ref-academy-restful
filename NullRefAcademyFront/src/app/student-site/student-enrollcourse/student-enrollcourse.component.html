<app-student-header></app-student-header>
<div class="intro-enroll">
    <div class="wrapper">
        <ng-container *ngFor="let course of courses">
            <ng-container *ngIf="course.id == courseid">
                <ng-container *ngFor="let category of categories">
                    <ng-container *ngIf="course.categoryID == category.id">
                        <p class="upcap"><a routerLink="/Student/{{routeid}}/Category/{{category.id}}">{{category.title}}</a></p>
                    </ng-container>
                </ng-container>
            </ng-container>
        </ng-container>
        <p class="cap">Course</p>
    </div>
</div>
<div class="info-enroll">
    <div class="wrapper">
        <div class="left">
            <div class="up">
                <p class="cap">In this course:</p>
                <ng-container *ngFor="let section of sections">
                    <ng-container *ngIf="section.courseID == courseid">
                        <p class="count"><a href="/Student/{{routeid}}/Course/{{courseid}}/Enroll#{{section.title}}">{{counts[section.id]}}. {{section.title}}</a></p>
                    </ng-container>
                </ng-container>
            </div>
            <div class="down">
                <p class="cap">This course will bring you:</p>
                <ng-container *ngFor="let course of courses">
                    <ng-container *ngIf="course.id == courseid">
                        <a class="points">{{course.points}} points</a>
                    </ng-container>
                </ng-container>
            </div>
            <div class="down-down">
                <p class="cap">Course about:</p>
                <ng-container *ngFor="let course of courses">
                    <ng-container *ngIf="course.id == courseid">
                        <p class="description">{{course.description}}</p>
                    </ng-container>
                </ng-container>
            </div>
            <div class="down-under">
                <p class="cap">Course rating:</p>
                <ng-container *ngFor="let course of courses">
                    <ng-container *ngIf="course.id == courseid">
                        <p class="description">{{course.rating}} from {{course.ratingQty}} students.</p>
                    </ng-container>
                </ng-container>
            </div>
            <div class="bottom">
                <p class="cap">Created by:</p>
                <ng-container *ngFor="let course of courses">
                    <ng-container *ngIf="course.id == courseid">
                        <ng-container *ngIf="course.adminID != null">
                            <ng-container *ngFor="let admin of admins">
                                <ng-container *ngIf="course.adminID == admin.id">
                                    <p class="creator">Admin: {{admin.username}}</p>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                        <ng-container *ngIf="course.teacherID != null">
                            <ng-container *ngFor="let teacher of teachers">
                                <ng-container *ngIf="course.teacherID == teacher.id">
                                    <a class="creator" routerLink="/Student/{{routeid}}/Profile/Teacher/{{teacher.id}}">Teacher: {{teacher.username}}</a>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                        <ng-container *ngIf="course.teacherID == null && course.adminID == null">
                            <p class="creator">The creator was deactivated.</p>
                        </ng-container>
                    </ng-container>
                </ng-container>
            </div>
        </div>
        <div class="right">
            <ng-container *ngFor="let course of courses">
                <ng-container *ngIf="course.id == courseid">
                    <p class="title">{{course.title}}</p>
                </ng-container>
            </ng-container>
            <ng-container *ngFor="let section of sections">
                <ng-container *ngIf="section.courseID == courseid">
                    <div class="box">
                        <div class="up">
                            <p id="{{section.title}}" class="section-title">{{section.title}}</p>
                        </div>
                        <div class="down">
                            <p class="description">{{section.description}}</p>
                        </div>
                        <div class="down-down">
                            <p class="text">{{section.text}}</p>
                        </div>
                    </div>
                </ng-container>
            </ng-container>
            <div class="under">
                <ng-container *ngFor="let studentCourse of studentCourses">
                    <ng-container *ngIf="studentCourse.id == courseid">
                        <ng-container *ngIf="studentCourse.isFinished == '1'">
                            <p class="done">You already finished this course.</p>
                            <p><a class="donebtn" routerLink="/Student/{{routeid}}/Dashboard">Go to dashboard</a></p>
                        </ng-container>
                        <ng-container *ngIf="studentCourse.isFinished == '0'">
                            <p class="ready">Are you ready?</p>
                            <p><a (click)="finishCourse()">Finish</a></p>
                        </ng-container>
                    </ng-container>
                </ng-container>
            </div>
        </div>
    </div>
</div>
<app-student-footer></app-student-footer>